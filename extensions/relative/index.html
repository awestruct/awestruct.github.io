<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title> { :awestruct }</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Awestruct is a static site baking and deployment tool" name="description">
    <meta content="summary" name="twitter:card">
    <meta content="@awestructed" name="twitter:site">
    <meta content="{ :awestruct }" name="twitter:title">
    <meta content="Awestruct is a static site baking and deployment tool" name="twitter:description">
    <link href="/news.atom" rel="alternate" type="application/atom+xml">
    <style>
      body {
        padding-top: 60px;
      }
    </style>
    <link href="https://awestruct.github.io/awestruct.org/stylesheets/styles.css" rel="stylesheet">
    <link href="https://yandex.st/highlightjs/7.3/styles/default.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="github-banner">
            <a href="https://github.com/awestruct/awestruct">
              <img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" style="position: absolute; top: 0; right: 0; border: 0;z-index: 900;">
            </a>
          </div>
          <a class="brand" href="https://awestruct.github.io/awestruct.org">{:awestruct}</a>
          <ul class="nav">
            <li>
              <a href="https://awestruct.github.io/awestruct.org">Home</a>
            </li>
            <li>
              <a href="https://awestruct.github.io/awestruct.org/news/">News</a>
            </li>
            <li class="dropdown" id="getting-started-menu">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#getting-started-menu">
                Documentation
                <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/getting_started/">Getting Started</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/layout/">Project Layout</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/profiles/">Site Profiles</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/file_types/">File Types</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/skins/">Skins</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/template_context/">Template Context</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/deployment/">Site Deployment</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/auto-deploy-to-github-pages/">Auto Deploy to GitHub Pages</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/using-page-data-in-a-layout/">Using Page variables in a layout</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/adding-tilt-template/">Adding a Tilt Template</a>
                </li>
              </ul>
            </li>
            <li class="dropdown" id="extensions-menu">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#extensions-menu">
                Extensions
                <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/">Overview</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/atomizer/">Atomizer</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/data_dir/">DataDir</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/disqus/">Disqus</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/flattr/">Flattr</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/indexifier/">Indexifier</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/intense_debate/">IntenseDebate</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/paginator/">Paginator</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/posts/">Posts</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/relative/">Relative</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/sitemap/">Sitemap</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/tag_cloud/">TagCloud</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/tagger/">Tagger</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/extensions/textile/">Textile</a>
                </li>
              </ul>
            </li>
            <li class="dropdown" id="helpers-menu">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#helpers-menu">
                Helpers
                <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/helpers/">Overview</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/helpers/partial/">Partial</a>
                </li>
                <li>
                  <a href="https://awestruct.github.io/awestruct.org/helpers/google_analytics/">Google Analytics</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="span3">
          <div class="well">
            <h2>Build Status</h2>
            <p>
              GitHub Actions
              <a href="https://github.com/awestruct/awestruct/actions">
                <img src="https://img.shields.io/github/actions/workflow/status/awestruct/awestruct/ci.yml">
              </a>
            </p>
          </div>
          <div id="sidebar">
            <ul class="nav nav-tabs nav-stacked">
              <li>
                <a href="https://awestruct.github.io/awestruct.org/gallery/">Gallery</a>
              </li>
              <li>
                <a href="https://awestruct.github.io/awestruct.org/source/">Source Code</a>
              </li>
              <li>
                <a href="https://www.rubydoc.info/gems/awestruct/">API Documentation</a>
              </li>
              <li>
                <a href="mailto:talk-subscribe@awestruct.org?subject=subscribe">Mailing List</a>
              </li>
              <li>
                <a href="https://twitter.com/awestructed">Twitter</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="span8">
          <div class="page-header">
            <h1>Relative</h1>
            <small>
              <h2>Awestruct::Extensions::Relative</h2>
            </small>
          </div>
          <p>Avoids absolute URL's. This extension has a method <code>relative()</code> to translates an absolute URL into a relative URL.
          Very handy in the navigation menu of layouts.
          Absolute URL's, such as <code>/foo/bar.html</code> are trouble.
          they don't work in a local static website (<code>file:///foo/bar.html</code>)
          and they don't work online if the awestruct website isn't on the root of the domain (for example it's completely under <code>http//www.foo.org/bar/</code>).</p>
          <h2>Usage</h2>
          <p>In for example <code>base.html.haml</code>, use:</p>
          
          <pre><code>%a{:href =&gt; relative("/download/download.html")} Download&#x000A;...&#x000A;%a{:href =&gt; relative("/learn/documentation.html")} Documentation&#x000A;</code></pre>
          
          <p>For <code>/index.html</code> this will result in:</p>
          
          <pre><code>&lt;a href="download/download.html"&gt;Download&lt;/a&gt;&#x000A;...&#x000A;&lt;a href="learn/documentation.html"&gt;Documentation&lt;/a&gt;&#x000A;</code></pre>
          
          <p>But for <code>/foo/bar.html</code> this will result in:</p>
          
          <pre><code>&lt;a href="../download/download.html"&gt;Download&lt;/a&gt;&#x000A;...&#x000A;&lt;a href="../learn/documentation.html"&gt;Documentation&lt;/a&gt;&#x000A;</code></pre>
          
          <p>And for <code>/one/two/three.html</code> this will result in:</p>
          
          <pre><code>&lt;a href="../../download/download.html"&gt;Download&lt;/a&gt;&#x000A;...&#x000A;&lt;a href="../../learn/documentation.html"&gt;Documentation&lt;/a&gt;&#x000A;</code></pre>
          
          <p>Of course, it works on all kinds of URL usages:</p>
          
          <pre><code>%link{:rel =&gt; "shortcut icon", :href =&gt; relative("/favicon.ico")}&#x000A;</code></pre>
          
          <hr />
          
          <p>To make it work properly in partials, you need to pass along the outputPage to every partial and to the relative function:</p>
          
          <p>The outputPage <code>blogAggregation.html.haml</code> passes itself:</p>
          
          <pre><code>= partial('blogPostBody.html.haml', :outputPage =&gt; page, ...)&#x000A;</code></pre>
          
          <p>to the partial <code>blogPostBody.html.haml</code>, which passes that outputPage:</p>
          
          <pre><code>= partial('userBadge.html.haml', :outputPage =&gt; page.outputPage, ...)&#x000A;</code></pre>
          
          <p>to the partial <code>userBadge.html.haml</code>, which passes it to the relative call:</p>
          
          <pre><code>%img{:src =&gt; relative("/common/twitterLogo.png", page.outputPage)}&#x000A;</code></pre>
          <h2>Parameters</h2>
          <em>
            None
          </em>
          <h2>Examples</h2>
          <h3>Generic Installation</h3>
          <pre><code class="ruby">Awestruct::Extensions::Pipeline.new do&#x000A;  extension Awestruct::Extensions::Relative.new()&#x000A;end&#x000A;</code></pre>
          <h3>Simple Installation</h3>
          
          <pre><code>Awestruct::Extensions::Pipeline.new do&#x000A;  helper Awestruct::Extensions::Relative&#x000A;end&#x000A;</code></pre>
          <h2>See Also</h2>
          <ul>
          </ul>
        </div>
      </div>
      <div class="row">
        <hr>
        <footer>
          <p>&copy; Bob McWhirter 2023</p>
        </footer>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://awestruct.github.io/awestruct.org/javascript/bootstrap-2.3.1.js"></script>
    <script src="https://awestruct.github.io/awestruct.org/javascript/highlight-20130326.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </body>
</html>
